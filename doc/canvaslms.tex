\documentclass[a4paper,oneside]{book}
\newenvironment{abstract}{}{}
\usepackage{noweb}
% Needed to relax penalty for breaking code chunks across pages, otherwise 
% there might be a lot of space following a code chunk.
\def\nwendcode{\endtrivlist \endgroup}
\let\nwdocspar=\smallbreak

\usepackage[hyphens]{url}
\usepackage{hyperref}
\usepackage{authblk}

\input{preamble.tex}

\title{%
  Canvas LMS: a command line interface
}
\author{%
  Daniel Bosk
}
\affil{%
  KTH EECS
}

\begin{document}
\frontmatter
\maketitle

\vspace*{\fill}
\VerbatimInput{../LICENSE}
\clearpage

\begin{abstract}
  \input{abstract.tex}
\end{abstract}
\clearpage


\tableofcontents
\clearpage

\mainmatter


\chapter{Introduction}

This is the documentation of the \texttt{canvaslms} Python package and the 
\texttt{canvaslms} command.
It provides a command-line interface for the Canvas LMS\@.

The command comes as a PyPI package.
It can be installed by running:
\begin{minted}{text}
  python3 -m pip install canvaslms
\end{minted}
Then you can use \texttt{canvaslms -h} for further usage instructions.

Some subcommands use the \texttt{pandoc} command\footnote{%
  URL: \url{https://pandoc.org/installing.html}.
}.
You will have to install that command manually.


\section{For contributors}

The package is divided into modules.
The \texttt{cli} moduile provides the base for the command and it uses the 
other modules.
There is a module for each subcommand.
Each such module must provide a
function~\texttt{add\textunderscore{}command\textunderscore{}options} which 
takes an \texttt{argparse} (sub)parser as an argument.
The subcommand must add a function which takes three arguments:
\begin{enumerate}
  \item \texttt{config}, a dictionary with the configuration data.
  \item \texttt{canvas}, a \texttt{canvasapi} object.
  \item \texttt{args}, the arguments parsed by \texttt{argparse}.
\end{enumerate}


%%% THE SOURCES %%%

\input{../src/canvaslms/cli/cli.tex}
\input{../src/canvaslms/cli/courses.tex}
\input{../src/canvaslms/cli/users.tex}
\input{../src/canvaslms/cli/assignments.tex}
\input{../src/canvaslms/cli/submissions.tex}
\input{../src/canvaslms/cli/grade.tex}


\printbibliography
\end{document}
